<!DOCTYPE html>
<html>

<head th:replace="fragments/base.html :: headerfiles">
</head>
<body>
    <div th:replace="fragments/base.html :: navbar"></div>
    
	<div class="d-flex flex-column justify-content-center align-items-center">
	<div class="card text-bg-light mt-5">
  	<div class="card-header text-center">Registrazione</div>
  	<div class="card-body p-2 m-1">
	<form th:action="@{/register}" method="POST">
		<div class="row">
		  <div class="col">
			<label for="Nome" class="form-label">Nome</label>
		    <input type="text" class="form-control" placeholder="Nome" aria-label="Nome" th:field="${user.name}" required>
		  	<strong th:if="${#fields.hasErrors('user.name')}" th:errors="${user.name}" th:style="'color:red'"></strong>
		  </div>
		  <div class="col">
			<label for="Cognome" class="form-label">Cognome</label>
		    <input type="text" class="form-control" placeholder="Cognome" aria-label="Cognome" th:field="${user.surname}" required>
		  	<strong th:if="${#fields.hasErrors('user.surname')}" th:errors="${user.surname}" th:style="'color:red'"></strong>
		  </div>
		</div>	
	  <div class="mb-3">
	    <label for="username" class="form-label">Username</label>
	    <input name="username" type="text" class="form-control" placeholder="username" th:field="${credentials.username}" required>
	  	<strong th:if="${#fields.hasErrors('credentials.username')}" th:errors="${credentials.username}" th:style="'color:red'"></strong>
	  </div>
	  <div class="mb-3">
	    <label for="email" class="form-label">Email</label>
	    <input name="email" type="email" class="form-control" placeholder="email" th:field="${user.email}" required>
	    <strong th:if="${#fields.hasErrors('user.email')}" th:errors="${user.email}" th:style="'color:red'"></strong>
	  </div>
	  <div class="mb-3">
	    <label for="password" class="form-label">Password</label>
	    <input name="password" type="password" class="form-control" placeholder="Password" th:field="${credentials.password}" required>
	  	<strong th:if="${#fields.hasErrors('credentials.password')}" th:errors="${credentials.password}" th:style="'color:red'"></strong>
	  </div>

	  <button type="submit" class="btn btn-primary">Invia</button>
	</form>

		
		<div class = "alert-box">
			<div th:if="${#fields.hasErrors('${user.*}')}" th:each="err : ${#fields.errors('${user.*}')}" class="alert alert-warning alert-dismissible fade show me-1 mb-1" role="alert">
			  	<strong  th:text="${err}">Errore</strong>
			  	<button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
			<div th:if="${#fields.hasErrors('${credentials.*}')}" th:each="err : ${#fields.errors('${credentials.*}')}" class="alert alert-warning alert-dismissible fade show me-1 mb-1" role="alert">
			  	<strong  th:text="${err}">Errore</strong>
			  	<button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
		</div>
</body>

</html>